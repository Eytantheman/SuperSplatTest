<!DOCTYPE html>
<html>
    <head>
        <title>SuperSplat</title>
        <meta charset="utf-8" />
        <base href="__BASE_HREF__">
        <link rel="manifest" href="./manifest.json">
        <link rel="stylesheet" href="./index.css">
        <link rel="shortcut icon" href="#">
        <meta name="description" content="SuperSplat is an advanced browser-based editor for manipulating and optimizing 3D Gaussian Splats. It is open source and engine agnostic." />
        <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0" />

        <!-- Service worker -->
        <script>
            const sw = navigator.serviceWorker;
            if (sw) {
                const isLocalhost = ['localhost', '127.0.0.1'].includes(window.location.hostname);
                if (isLocalhost) {
                    sw.getRegistrations()
                        .then(registrations => Promise.all(registrations.map(reg => reg.unregister())))
                        .then(() => console.log('service workers unregistered for local dev'))
                        .catch(err => console.log('failed to unregister service workers', err));
                } else {
                    sw.register('./sw.js')
                        .then(reg => console.log('service worker registered', reg))
                        .catch(err => console.log('failed to register service worker', err));
                }
            }
        </script>
    </head>

    <body>
        <script type="module" src="./index.js"></script>
    </body>
</html>
